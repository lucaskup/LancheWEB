<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
	
<title>Lanche WEB</title>

  <script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>

  <link rel="import" href="bower_components/iron-icon/iron-icon.html">
  <link rel="import" href="bower_components/iron-icons/iron-icons.html">
  <link rel="import" href="bower_components/iron-icons/communication-icons.html">
  <link rel="import" href="bower_components/paper-checkbox/paper-checkbox.html">
  <link rel="import" href="bower_components/paper-toolbar/paper-toolbar.html">
  <link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
  
  <link rel="import" href="bower_components/paper-item/paper-icon-item.html">
  <link rel="import" href="bower_components/paper-item/paper-item.html">
  <link rel="import" href="bower_components/paper-item/paper-item-body.html">
  <link rel="import" href="bower_components/paper-styles/paper-styles.html">
  <link rel="import" href="bower_components/paper-material/paper-material.html">
  <link rel="import" href="bower_components/paper-fab/paper-fab.html">
  
  <link rel="import" href="bower_components/paper-dialog/paper-dialog.html">
  <link rel="import" href="bower_components/neon-animation/neon-animations.html">
  <link rel="import" href="bower_components/paper-button/paper-button.html">


  <link rel="import" href="bower_components/paper-toggle-button/paper-toggle-button.html">
  

  <link rel="import" href="bower_components/paper-input/paper-input-error.html">
  <link rel="import" href="bower_components/paper-input/paper-input.html">
  <link rel="import" href="bower_components/paper-header-panel/paper-header-panel.html">
  <link rel="import" href="css/style.html">

</head>

<body class="fullbleed layout vertical">
  <paper-toolbar>
    <paper-icon-button icon="menu"></paper-icon-button>
    <span class="title">Lanches WEB</span>
  </paper-toolbar>

    <div class="card"> 
	<paper-material elevation="2">
		<h3 style="padding-left: 10px; padding-top: 10px">Usuários</h3>
		<table id="tabela">

		  <thead>
		  <tr>
		    <th>ID</th>
		    <th>Login</th> 
		    <th>Nome</th>
		    <th>Sobrenome</th> 
		    <th>Data de Nascimento</th>
		    <th>Turma</th>
		    <th>Função</th>
		    <th>Ativo</th>
		    <th></th>
		  </tr>
		  </thead>
		  <tbody>
		  <tr>
		    <td class="td_numeric">1</td>
		    <td class="td_alpha">lucas.kup@gmail.com</td> 
		    <td class="td_alpha">Lucas</td> 
		    <td class="td_alpha">Silveira Kupssinsku</td> 
		    <td class="td_alpha">25/01/1989</td>
		    <td class="td_alpha"></td>
		    <td class="td_alpha">Aluno</td> 
		    <td class="td_logic"><paper-checkbox checked disabled></paper-checkbox></td>
		    <td class="td_logic"><paper-icon-button onclick="dialogoEdicao('1')" icon="create"></paper-icon-button><paper-icon-button onclick="dialogoExclusao('1')" icon="delete"></paper-icon-button></td>
		  </tr>
		  <tr>
		    <td class="td_numeric">2</td>
		    <td class="td_alpha">lucas.kupssinsku@cigam.com.br</td> 
		    <td class="td_alpha">NomeQualquer</td> 
		    <td class="td_alpha">Sobrenome Qualquer</td> 
		    <td class="td_alpha">25/01/1989</td>
		    <td class="td_alpha">55A</td>
		    <td class="td_alpha">Aluno</td> 
		    <td class="td_logic"><paper-checkbox checked disabled></paper-checkbox></td>
		    <td class="td_logic"><paper-icon-button onclick="dialogoEdicao('1')" icon="create"></paper-icon-button><paper-icon-button onclick="dialogoExclusao('1')" icon="delete"></paper-icon-button></td>
		  </tr>
		  </tbody>
		</table> 
	</paper-material>

  
 	</div> 

<paper-fab icon="add" title="Criar Novo Lanche" tabindex="0" class="red" onclick="dialogoCriar()"></paper-fab>


    <paper-dialog id="excluir" modal with-backdrop entry-animation="scale-up-animation" exit-animation="fade-out-animation" with-backdrop>
      <h2>Confirma Exclusão</h2>
      <p>O processo de exclusão de um opcional é irreversível, confirma exclusão?</p>
		<div class="buttons">
        <paper-button class="dialogo" dialog-dismiss>Não</paper-button>
        <paper-button class="dialogo" dialog-confirm autofocus onclick="excluirLanche()">Sim</paper-button>
		</div>
    </paper-dialog>

 
    <paper-dialog class="dialogo_lanche" id="editar" with-backdrop entry-animation="scale-up-animation" exit-animation="fade-out-animation" with-backdrop>
      <h2>Editar Opcional</h2>
      		<form is="iron-form" id="formEditar" method="post" action="/LancheWeb/LoginServletsss">
			<paper-input label="id" id="d_id" disabled></paper-input>	
			<paper-input-container always-float-label>
				<label>Descrição</label>
				<input is="iron-input" id="d_descricao"  name="descricao" required allowedPattern="^(?!\s*$).+">
				<paper-input-error>Favor informar a Descrição!</paper-input-error>
			</paper-input-container>
			<paper-input-container always-float-label>
				<label>Preço</label>
				<input is="iron-input" id="d_preco" name="preco" required allowedPattern="[0-9]+(\.[0-9][0-9]?)?">
				<paper-input-error>Favor informar o Preço!</paper-input-error>
			</paper-input-container>
			<br>
			<paper-checkbox id="d_permitemais" name="permitemais" class="green">Permite mais de Um</paper-checkbox>

		</form>
		<div class="buttons">
        <paper-button class="dialogo" dialog-dismiss>Cancelar</paper-button>
        <paper-button class="dialogo" dialog-confirm autofocus onclick="excluirLanche()">Confirmar</paper-button>
		</div>
    </paper-dialog>

 

    <paper-dialog class="dialogo_lanche" id="criar" with-backdrop entry-animation="scale-up-animation" exit-animation="fade-out-animation" with-backdrop>
      <h2>Criar Opcional</h2>
      		<form is="iron-form" id="formCriar" method="post" action="/LancheWeb/LoginServletsss">
			<paper-input label="id" id="dc_id" disabled></paper-input>	
			<paper-input-container>
				<label>Descrição</label>
				<input is="iron-input" id="dc_descricao"  name="descricao" required allowedPattern="^(?!\s*$).+">
				<paper-input-error>Favor informar a Descrição!</paper-input-error>
			</paper-input-container>
			<paper-input-container>
				<label>Preço</label>
				<input is="iron-input" id="dc_preco" name="preco" value="0.00" required allowedPattern="[0-9]+(\.[0-9][0-9]?)?">
				<paper-input-error>Favor informar o Preço!</paper-input-error>
			</paper-input-container>
			<br>
			<paper-checkbox id="dc_permitemais" name="permitemais" class="green">Permite mais de Um</paper-checkbox>

		</form>
		<div class="buttons">
        <paper-button class="dialogo" dialog-dismiss>Cancelar</paper-button>
        <paper-button class="dialogo" dialog-confirm autofocus onclick="criarLanche()">Confirmar</paper-button>
		</div>
    </paper-dialog>


 <script>
	var idExcluir = 0;
	var idEditar = 0;
 	
 	function dialogoExclusao(id){
 		idExcluir = id;
 		 var dialog = document.getElementById('excluir');
 	      if (dialog) {
 	    	 dialog.open();
 	      }
 	}
 	function dialogoCriar(){
	 	document.getElementById('dc_descricao').value = "";
	 	document.getElementById('dc_preco').value = "0.00";
	 	document.getElementById('dc_permitemais').checked = true;
 		 var dialog = document.getElementById('criar');
 	      if (dialog) {
 	    	 dialog.open();
 	      }
 	}
 	function criarLanche(){
 		var table = document.getElementById("tabela");

	 	// Create an empty <tr> element and add it to the 1st position of the table:
	 	var row = table.insertRow(1);
	
	 	// Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
	 	var cell1 = row.insertCell(0);
	 	var cell2 = row.insertCell(1);
	 	var cell3 = row.insertCell(2);
	 	var cell4 = row.insertCell(3);
	 	var cell5 = row.insertCell(4);
	 	var cell6 = row.insertCell(5);
	 	var cell7 = row.insertCell(6);
	 	
	 	// Add some text to the new cells:
	 	cell1.innerHTML = "1";
	 	cell1.className="td_numeric";
	 	
	 	cell2.innerHTML = document.getElementById('dc_descricao').value;
	 	cell2.className="td_alpha";
	 	
	 	cell3.innerHTML = document.getElementById('dc_preco').value;
	 	cell3.className="td_numeric";
	 	
	 	cell4.innerHTML = "adsads";
	 	cell4.className="td_alpha";
	 	
	 	cell5.innerHTML = "adsads";
	 	cell5.className="td_alpha";
	 	
	 	cell6.innerHTML = document.getElementById('dc_permitemais').checked;
	 	cell6.className="td_logic";
	 	
	 	cell7.innerHTML = "<paper-icon-button onclick=\"dialogoEdicao('3')\" icon=\"create\"></paper-icon-button><paper-icon-button onclick=\"dialogoExclusao('3')\" icon=\"delete\"></paper-icon-button>";
	 	cell7.className="td_logic";
 	}
 	function dialogoEdicao(id){
 		idEditar = id;
 		var dialog = document.getElementById('editar');
    	var tabela = document.getElementById('tabela');
			for (var i = 0, row; row = tabela.rows[i]; i++) {
				if(row.cells[0].innerHTML==id){
					document.getElementById('d_id').value = id;
					document.getElementById('d_descricao').value = row.cells[1].innerHTML;
					document.getElementById('d_preco').value = row.cells[2].innerHTML;
					document.getElementById('d_permitemais').checked = true;
				}
			}
 		
 	      if (dialog) {
 	    	 dialog.open();
 	      }
 	}
 	function excluirLanche(){
 		var dialog = document.getElementById('excluir');
 		if(!dialog.closingReason.canceled){
			
        	var tabela = document.getElementById('tabela');
 			for (var i = 0, row; row = tabela.rows[i]; i++) {
 				if(row.cells[0].innerHTML==idExcluir){
 					 tabela.deleteRow(i);
 				}
 			}
        }
 	}

  </script>
</body>
</html>